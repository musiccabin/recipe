<% content_for :body_class, 'grocery-page' %>
<div>
<h1>Grocery List</h1>

<%=form_with model: @grocery, local: true do |f|%>
<%=f.label :name%>
<%=f.text_field :name%>
<%=f.label :quantity%>
<%=f.text_field :quantity%>
<%=f.label :unit%>
<%=f.text_field :unit%>
<%=f.submit 'Add'%>
<%end%>

<% @groceries.each do |g| %>
<div>
<input type="checkbox" name='item' value="<%=g.name%>" <%= g.is_completed ? "checked" : "" %>
<label for="item"><%=g.name%> <%=g.quantity%> <%=g.unit%></label>
</div>
<% end %>

<button type="button" id='completed-items-header'>Completed Items</button>
<div id="completed-items" id="completed-items">
<% @groceries_completed.each do |gc| %>
<p><%=gc.name%> <%=gc.quantity%> <%=gc.unit%></p>
<%end%>
</div> 

</div>


<script type="text/javascript">
    const x = document.getElementById("completed-items");
    x.style.display = 'none'
    document.getElementById("completed-items-header").onclick = function() { 
        if (x.style.display === "none") {
        x.style.display = "block";
        } else {
        x.style.display = "none";
        }
    } 
</script>


